#ifndef SIS_CONTEXT_H
#define SIS_CONTEXT_H

////////////////////////////////////////////////////////////////////////////
//	includes
//
#include "sis_buffer.h"
//
////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
namespace sis {
////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
//
typedef unsigned int uint;
//
////////////////////////////////////////////////////////////////////////////



class CContext
{
public:
	//
	//	Type definitions
	//
	class CStack : public CBuffer
	{
	public:
		CStack()
		{
		}
		inline CStack( char* pBuffer, uint uSize )
			:m_pStack( pBuffer ), m_uSize( uSize )
		{
		}
	private:
		char* m_pStack;
		uint m_uSize;

	};


public:
	CContext( CBuffer const&  oStack );

	inline CStack& stack();
	inline CStack const& stack() const;

	inline void IncrementPC( uint uOffset );

private:
	// Members
	uint m_PC;  //offset
	CFunction m_oFunc;

	CStack m_oStack;
};

////////////////////////////////////////////////////////////////////////////////////
} // namespace sis
////////////////////////////////////////////////////////////////////////////////////


#endif // SIS_CONTEXT_H