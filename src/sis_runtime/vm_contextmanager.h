#ifndef VM_CONTEXT_MANAGER_H
#define VM_CONTEXT_MANAGER_H

////////////////////////////////////////////////////////////////////////////
//	includes
//
#include <sis_context.h>
// STL
#include <iostream>
#include <stack>
//
////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
namespace sis {
////////////////////////////////////////////////////////////////////////////
namespace vm {
////////////////////////////////////////////////////////////////////////////


class CContextManager
{
private:
	//
	//	satic members
	//	
	static const uint64 s_cuSize;		// size of one mb

public:
	// Constructor and destructor
	CContextManager();
	~CContextManager();

	// Copy constructor and assignment operator
	CContextManager( const CContextManager& ) = delete;
	CContextManager& operator=(const CContextManager&) = delete;

public:
	CContext* Alloc( uint64 uStackSize );
	void Free( CContext* );

private:
	//
	//	members
	//
	CBuffer m_oBuffer;
	uint64 m_uMarker;

};


////////////////////////////////////////////////////////////////////////////////////
} // namespace vm
////////////////////////////////////////////////////////////////////////////////////
} // namespace sis
////////////////////////////////////////////////////////////////////////////////////


#endif // CONTEXT_MANAGER
// end of file
