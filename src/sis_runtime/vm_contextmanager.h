#ifndef VM_CONTEXT_MANAGER_H
#define VM_CONTEXT_MANAGER_H

////////////////////////////////////////////////////////////////////////////
//	includes
//
#include <sis_context.h>
// STL
#include <iostream>
#include <stack>
//
////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
namespace sis {
////////////////////////////////////////////////////////////////////////////
namespace vm {
////////////////////////////////////////////////////////////////////////////


class CContextManager
{
private:
	//
	//	satic members
	//	
	static const uint s_cuSize; // size of one mb

public:
	// constructor and destructor
	CContextManager();
	~CContextManager();
private:
	CContextManager( const CContextManager& );
	CContextManager& operator=(const CContextManager&);

public:
	CContext* Alloc( uint uStackSize );
	void Free( CContext* );

private:
	//
	//	members
	//
	CBuffer m_oBuffer;
	uint m_uMarker;

};


////////////////////////////////////////////////////////////////////////////////////
} // namespace vm
////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////
} // namespace sis
////////////////////////////////////////////////////////////////////////////////////


#endif // CONTEXT_MANAGER